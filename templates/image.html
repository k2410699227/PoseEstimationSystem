<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <link rel="icon" href="/static/favicon.ico">
  <!-- import CSS -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui@2.10.1/lib/theme-chalk/index.css">
  <link rel="stylesheet" href="/static/image.css">
</head>

<body>
  <div id="app" class="app">
    <el-container>
      <template>

        <el-header height="30px">
          <div>图片-{% raw %}{{source_name}}{% endraw %}</div>
          <el-link href="/" type="primary" style=" position:absolute;  right:5px;">实时视频流</el-link>
        </el-header>
      </template>
      <el-main>
        <el-container direction="vertical" class="img-container">
          <el-container class="inner-container">



            <div class="container">
              <input id="selectFile" ref="fileInput" type="file" style="display: none;" @change="handleFileSelect" />
              <img :src="getImageUrl" @click="startUpload"></img>

            </div>

            <div class="container">
              <img :src="getResultUrl"></img>
            </div>
          </el-container>
          <!-- <el-row><el-button @click="capture = !capture" style="width: 150px;">上传</el-button></el-row> -->
        </el-container>
        <!-- <el-container class="ctrl-container"> -->
        <div class="editor-toolkit-panel">
          <div class="block">
            <span class="ctrl-label">置信度阈值</span>
            <el-slider v-model="confident_threshold" :format-tooltip="formatTooltip" :step="10" show-stops
              @change="uploadFile"></el-slider>
          </div>

          <el-checkbox style="color: whitesmoke;" v-model="no_box" @change="uploadFile">不显示检测框</el-checkbox>

          <el-checkbox style="color: whitesmoke;" v-model="no_prob" @change="uploadFile">不显示概率</el-checkbox>
          <el-button @click="downloadJsonFile">下载关键点信息</el-button>
          <svg class="download" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            @click="downloadFile">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
          </svg>
        </div>
        <!-- </el-container> -->
      </el-main>
    </el-container>

    </el-container>

  </div>
</body>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue@2/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui@2.10.1/lib/index.js"></script>
<script src="https://unpkg.com/socket.io-client@4.6.0/dist/socket.io.min.js"></script>
<script src="/static/utils.js"></script>
<script src="/static/image.js"></script>


</html>